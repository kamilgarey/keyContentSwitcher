<!DOCTYPE html>
<html>
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <title>Тест для проверки работы M</title>
    <script src="js/jquery-1.7.1.min.js"></script>
    <script src="js/kcSwitcher-0.5.1.3.js"></script>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>

<h1>Черновик статьи о библиотеке</h1>
<h1>keyContentSwitcher - библиотека для переключения содержимого</h1>

<h2>Предисловие.</h2>
Переключаемые вкладки, аккордионы и прочие переключатели - всё это обычное явление в современном интернете.<br/>
Есть также большое число графических JS библиотек и фраймворков, в том числе реализующих данный функционал, перечислять даже не имеет смысла.
<br/>
Ниже отличия от (и отсюда же преимущества над) широко известными<br/>

<h2>Суть</h2>
Данная библиотека реализует следущий принцип: Есть некоторая группа содержимого из которого отображаемым (а точнее активным) может быть только один элемент.<br/>
Таких групп на странице может быть несколько. Таким образом нужно работь с: 1) названием группы, 2) названием элемента, и  3) возможностью как-то задавать/переключать активный элемент.<br/>
<br/>
Такой подход позволяет реализовать любой переключатель совершенно не привязанный к вёрстке. В этом отличие от<br/>
общеизвестных библиотек - они уже идут с готовым набором стилей, классов для реализации жёсткого заданного типа переключателя с фиксированным набором элементов.<br/>

<h2>Реализация/Использование</h2>

1) Для включения HTML элемента в группу ему добавляется атрибут <b>data-content-of-group="имя(ключ) группы"</b><br/>
2) Для указания ключа HTML элемента ему добавляется атрибут <b>data-key-in-group="uмя(ключ) содержимого в группе"</b><br/>
Пример определения элемента - <div class="html-block">&lt;div data-content-of-group=&quot;lessons&quot; data-key-in-group=&quot;1&quot;&gt;...&lt;/div&gt;</div><br/><br/>

3) Для активации/переключения активного элемента задаются элементы ссылки - links, аналогично определению содержимого, только будет использован атрибут <b>data-link-of-group</b> вместо <b>data-content-of-group</b><br/>
Пример определения ссылки - <div class="html-block">&lt;a data-link-of-group=&quot;lessons&quot; href=&quot;#&quot; data-key-in-group=&quot;1&quot;&gt; Приступить к уроку 1&lt;/a&gt;</div><br/><br/>

Можно определять более 1 элемента и ссылки для 1 ключа содержимого.<br/><br/>

Осталось добавить стили.<br/> Переключатель(и) начнут функционировать по завершению загрузки страницы. Клики по ссылкам реализованны через подписку на live("click") - так что они будут работать сразу, в том числе для динамически добавленных элементов. <br/>
Активное содержимое(ые) и ссылка(и) имеет класс <b>"active"</b>.<br/>
Все группы присутствующие на странице в момент завершения загрузки страницы проверяеются на наличие активного элемента
содержимого в группе (имеющего соответствующий css class). Если такового нет одно содержимое из группы становиться "активным".

<h2>Задание стилей</h2>
Я обычно использую следующие: <br/>
<div class="ccs-block">
.tabHidden{
display: none;
}

.tabsContainer .active{
display: block;
}
</div>
и оборачиваю элементы содержимого дивом <div class="html-block"> &lt;div class=&quot;tabsContainer&quot;&gt;...&lt;/div&gt;</div>

    <h2>Расширенное использование(Advanced Usage)</h2>

    <h3>Привязка на события.</h3>
<b>keyContentSwitcher.tabChanged </b> возникает после смены активного содержимого<br/>
    Пример подписки на событие:<br/>
    <div class="js-block"> keyContentSwitcher.tabChanged("имя_группы", function(groupKey, key-in-group){
    alert("произошла смена активного содержимого для группы \"" + groupKey + "\"");})</div><br/>
    <b>keyContentSwitcher.beforeTabChanged </b> возникает перед сменой активной вкладки. Можно запретить смену содержимого вернув false d<br/><br/>
    В обоих случаях <b> key-in-group </b> - имя активируемого ключа, для получения текущего активного ключа содержимого в beforeTabChanged обработчике<br/>
    можно вызвать функцию <b>keyContentSwitcher.getActiveKey(groupKey)</b>.<br/>
    Если название группы не указанно при задании обработчика он будет вызываться для всех групп.<br/>

    <h3>Использование вложенных переключателей</h3>

    Частая ситуация когда внутри содержимого переключателя находиться ещё одна группа содержимого (подгруппа).<br/>
    Часто эти содержимые вызывают при инициализации (выборе первого активного содержимого группы) "тяжёлые" скрипты - аjax запросы, работа с графикой и тому подобное.<br/>
    Поэтому для такой подгруппы правильнее будет активироваться только когда содержимое "родитель" будет показано. Для этого активизация группы подавляется.<br/><br/>

    Для подавления активации группы её нужно добавить в список подавляемых, указываемый при установки параметров.<br/><br/>
<div class="js-block"> keyContentSwitcher.applySettings({ignoredToActivateGroups:["игнорируемая_группа",...]});</div>
<br/>

    Данный вызов должен быть осуществлён до завершения загрузки страницы.<br/><br/>

    При этом под активации подразумевается только лишь выбор активного содержимого для группы и срабатывание соответствующих обработчиков - если активное содержимое группы не выбрано.<br/>

<h3>Активация группы</h3>
    Для автоматического выбора активного содержимого для динамически добавленной или группы используемой в списке подавления необходимо "активировать" группу.

    Активация группы производиться функцией <b>keyContentSwitcher.activateGroup("название_группы")</b>.

    Если нужно активировать конкретное содержимое воспользуйтесь функцией <b>keyContentSwitcher.setActiveKey("название_группы", "ключ_содержимого")</b>
    <h3>Переименование атрибутов</h3>

    В случаи конфликта имён - когда HTML атрибуты необходимые для функционирования библиотеки используется другой библиотекой;<br/>
    а также по каким-либо другим причинам (например я использовал изначально атрибуты <b>_reg_tabGroupLink</b>, <b>_reg_tabGroupBody</b>, <b>_reg_tabKey</b>s)<br/>
их можно переопределить, а также можно перопределить css класс определяющий что элемент "активный" при установке параметров<br/>

<div class="js-block">keyContentSwitcher.applySettings( {linkOfGroup : "link-of-group", contentOfGroup : "content-of-group", keyInGroup : "key-in-group", activeClass : "active", prefix: "data-"});</div><br/><br/>

    каждый используемый HTML атрибут задаётся как <b>prefix</b> + <b>attributeName</b>. Поэтому в случая конфликта имён достаточно переименовать только prefix.<br/><br/>
    prefix по умолчанию "data-" используется для валидности HTML вёрстки.<br/><br/>

    <h3>Другое</h3>
    Часть функций не приведена для краткости - смотри в коде.

<h2>Примеры</h2>
<a href="examples/tabs_vertical.html">Вертикальные Вкладки</a><br/>
<a href="examples/tabs_horizontal.html">Горизонтальные вкладки</a><br/>
<a href="examples/accordion.html">Аккордеон</a><br/>
<a href="examples/subfolder.html">Вложенные вкладки</a><br/>
<a href="examples/rename.html">Переименование атрибутов</a><br/>
<a href="examples/dynamic_content.html">Динамическое содержание</a><br/>
<h3>Использование в реальном проекте <i style="font-size: smaller;">(используется старая версия библиотеки - приведено для отображения возможностей библиотеки)</i></h3>
<a href="http://etton.ru">Использование нескольких содержимых и нескольких ссылок на одном ключе</a>

<h2> Требования </h2>
    Библиотеке требуется jquery начиная от версии 1.4
    Конфликтов с другими библиотеками не выявлено.
    Проблем с браузерами не выявлено.
</body>
</html>